<!DOCTYPE html>
<html lang="es">
  <!--
    ============================================================================
    VISTA: FORMULARIO DE LOGIN (INICIO DE SESIÓN)
    ============================================================================
    
    Flujo de autenticación:
    1. GET /login → muestra este formulario (error = null)
    2. Usuario ingresa credenciales y envía el formulario
    3. POST /login → servidor valida credenciales
    4. Si son correctas → crea sesión y redirige a /perfil
    5. Si son incorrectas → vuelve a mostrar este formulario con mensaje de error
    
    Variables recibidas del servidor:
    - error: mensaje de error (null si no hay errores, string si falló el login)
  -->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - Iniciar Sesión</title>
</head>

<body>
  <h1>Iniciar Sesión</h1>

  <!--
    Bloque de visualización de errores
    -----------------------------------
    Solo se muestra si la variable 'error' tiene contenido
    (cuando las credenciales son incorrectas en POST /login)
  -->
  <% if (error) { %>
    <p style="color: red;"><%= error %></p>
  <% } %>

  <!--
    Formulario de autenticación
    ---------------------------
    method="post": los datos NO viajan en la URL (más seguro para contraseñas)
    action="/login": se envía a POST /login para validar credenciales
  -->
  <form action="/login" method="post">
    <label>
      Usuario:
      <!--
        name="usuario": el servidor accede a este valor con req.body.usuario
      -->
      <input type="text" name="usuario" required />
    </label>
    <br />
    <label>
      Contraseña:
      <!--
        type="password": oculta los caracteres mientras se escriben (•••••)
        name="password": el servidor accede con req.body.password
      -->
      <input type="password" name="password" required />
    </label>
    <br />
    <button type="submit">Entrar</button>

    <p>
      <a href="/">Volver al inicio</a>
    </p>
  </form>
</body>
</html>
